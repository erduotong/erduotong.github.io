---
category:
- 卡片/普通
date: 2024-10-02
isOriginal: true
tags:
- vuepress
- debug
title: 2.5 vuepress 打包后不自动退出
---
# 描述
在用Vuepress构建的时候，部分情况会出现`Build Successful`后，不自动结束进程，导致一直卡住终端不进行下一步。
![IMG-20250719 072103542-2.5 vuepress 打包后不自动退出.png](/image/IMG-20250719 072103542-2.5 vuepress 打包后不自动退出.png)
# 原因
在组件中，添加了SetInterval等组件，并且没有释放，如下图
```javascript
const interval = setInterval(calculateTime, 1000);
```
因为一直没有释放，所以导致`Node JS`一直无法结束事件循环，哪怕该组件不再使用
# 解决办法
在组件的生命周期中，挂载和卸载计时器
```javascript
onMounted(() => {  
  const interval = setInterval(calculateTime, 1000); 
  onUnmounted(() => {  
    clearInterval(interval);  
  });  
});
```