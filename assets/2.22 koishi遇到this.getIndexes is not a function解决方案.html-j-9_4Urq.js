import{_ as o,c as a,d as t,a as e,e as s,b as l,w as d,r,o as h}from"./app-mb5k1Esf.js";const c="/image/IMG-2.22%20koishi%E9%81%87%E5%88%B0this.getIndexes%20is%20not%20a%20function%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-5B5199214C0EA61BF9287034967C4ECE.png",p={},u={class:"callout","data-callout":"note"},g={class:"callout-content"};function m(k,i){const n=r("RouteLink");return h(),a("div",null,[i[3]||(i[3]=t(`<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><p>刚刚通过docker完成koishi的安装后，一接受消息就会报错<br> 而且，在沙盒里面还会有无法调整用户权限等级的问题</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>TypeError: this.getIndexes is not a function  </span></span>
<span class="line"><span>at SQLiteDriver.prepareIndexes (/koishi/node_modules/minato/lib/index.cjs:1928:35)  </span></span>
<span class="line"><span>at Proxy.prepare (/koishi/node_modules/minato/lib/index.cjs:973:18)  </span></span>
<span class="line"><span>at async Proxy.prepare (/koishi/node_modules/minato/lib/index.cjs:965:5)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+c+'" alt="IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.png" tabindex="0" loading="lazy"><figcaption>IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.png</figcaption></figure><h2 id="问题分析" tabindex="-1"><a class="header-anchor" href="#问题分析"><span>问题分析</span></a></h2><p>SQLiteDriver过期，<code>database-sqlite</code>版本过老了</p><h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h2><p>更新 <code>database-sqlite</code> 插件</p>',8)),e("div",u,[i[2]||(i[2]=t('<div class="callout-title"><div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">建议</div></div>',1)),e("div",g,[e("p",null,[i[1]||(i[1]=s("在安装完成koishi后就")),l(n,{to:"/60%20%E5%8D%A1%E7%89%87%E7%AC%94%E8%AE%B0/%E4%B8%BB%E5%8D%A1%E7%89%87/2.22a%20%E6%9B%B4%E6%96%B0koishi%E6%89%80%E6%9C%89%E4%BE%9D%E8%B5%96.html"},{default:d(()=>i[0]||(i[0]=[s("更新koishi所有依赖")])),_:1,__:[0]})])])]),i[4]||(i[4]=e("h2",{id:"参考",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考"},[e("span",null,"参考")])],-1)),i[5]||(i[5]=e("ul",null,[e("li",null,[e("a",{href:"https://github.com/koishijs/koishi/issues/1455",target:"_blank",rel:"noopener noreferrer"},"https://github.com/koishijs/koishi/issues/1455")])],-1))])}const b=o(p,[["render",m]]),x=JSON.parse('{"path":"/60%20%E5%8D%A1%E7%89%87%E7%AC%94%E8%AE%B0/%E4%B8%BB%E5%8D%A1%E7%89%87/2.22%20koishi%E9%81%87%E5%88%B0this.getIndexes%20is%20not%20a%20function%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html","title":"2.22 koishi遇到this.getIndexes is not a function解决方案","lang":"zh-CN","frontmatter":{"category":["卡片/普通"],"date":"2025-10-27T00:00:00.000Z","isOriginal":true,"tags":[],"title":"2.22 koishi遇到this.getIndexes is not a function解决方案","description":"背景 刚刚通过docker完成koishi的安装后，一接受消息就会报错 而且，在沙盒里面还会有无法调整用户权限等级的问题 IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.pngIMG-2.22 koishi遇到this.get...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2.22 koishi遇到this.getIndexes is not a function解决方案\\",\\"image\\":[\\"https://blog.erduotong.com/image/IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.png\\"],\\"datePublished\\":\\"2025-10-27T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-24T00:57:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"耳朵同\\",\\"url\\":\\"http://blog.erduotong.com\\",\\"email\\":\\"erduotong@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://blog.erduotong.com/60%20%E5%8D%A1%E7%89%87%E7%AC%94%E8%AE%B0/%E4%B8%BB%E5%8D%A1%E7%89%87/2.22%20koishi%E9%81%87%E5%88%B0this.getIndexes%20is%20not%20a%20function%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html"}],["meta",{"property":"og:site_name","content":"耳朵同的博客"}],["meta",{"property":"og:title","content":"2.22 koishi遇到this.getIndexes is not a function解决方案"}],["meta",{"property":"og:description","content":"背景 刚刚通过docker完成koishi的安装后，一接受消息就会报错 而且，在沙盒里面还会有无法调整用户权限等级的问题 IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.pngIMG-2.22 koishi遇到this.get..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://blog.erduotong.com/image/IMG-2.22 koishi遇到this.getIndexes is not a function解决方案-5B5199214C0EA61BF9287034967C4ECE.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-24T00:57:18.000Z"}],["meta",{"property":"article:published_time","content":"2025-10-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-24T00:57:18.000Z"}]]},"git":{"createdTime":1763945838000,"updatedTime":1763945838000,"contributors":[{"name":"github-actions[bot]","username":"","email":"github-actions[bot]@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.61,"words":182},"filePathRelative":"60 卡片笔记/主卡片/2.22 koishi遇到this.getIndexes is not a function解决方案.md","excerpt":"<h2>背景</h2>\\n<p>刚刚通过docker完成koishi的安装后，一接受消息就会报错<br>\\n而且，在沙盒里面还会有无法调整用户权限等级的问题</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-\\"><span class=\\"line\\"><span>TypeError: this.getIndexes is not a function  </span></span>\\n<span class=\\"line\\"><span>at SQLiteDriver.prepareIndexes (/koishi/node_modules/minato/lib/index.cjs:1928:35)  </span></span>\\n<span class=\\"line\\"><span>at Proxy.prepare (/koishi/node_modules/minato/lib/index.cjs:973:18)  </span></span>\\n<span class=\\"line\\"><span>at async Proxy.prepare (/koishi/node_modules/minato/lib/index.cjs:965:5)</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true,"bioChainData":{"outlink":[{"title":"2.22a 更新koishi所有依赖","link":"60 卡片笔记/主卡片/2.22a 更新koishi所有依赖.html"}],"backlink":[],"localMap":{"nodes":[{"id":"60 卡片笔记/主卡片/2.22 koishi遇到this.getIndexes is not a function解决方案.md","value":{"title":"2.22 koishi遇到this.getIndexes is not a function解决方案","path":"60 卡片笔记/主卡片/2.22 koishi遇到this.getIndexes is not a function解决方案.md","outlink":["60 卡片笔记/主卡片/2.22a 更新koishi所有依赖.md"],"backlink":[]},"linkCount":0},{"id":"60 卡片笔记/主卡片/2.22a 更新koishi所有依赖.md","value":{"title":"2.22a 更新koishi所有依赖","path":"60 卡片笔记/主卡片/2.22a 更新koishi所有依赖.md","outlink":[],"backlink":[]},"linkCount":0}],"links":[{"source":"60 卡片笔记/主卡片/2.22 koishi遇到this.getIndexes is not a function解决方案.md","target":"60 卡片笔记/主卡片/2.22a 更新koishi所有依赖.md"}]}}}');export{b as comp,x as data};
